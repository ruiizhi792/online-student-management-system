<template>
<div
	 class="dfecv6emc">
	<div class="uxawzd95h zx2628wwb">
	  <div>远程教育在线学习及测评管理软件</div>
	  <div>
		  <div
		  	 @click="fdzxbuv('ce_ping_guan_li','测评管理')" class="c_menu"
		  	 :class="{'c_active_menu':imnkt4m=='测评管理'}">
			<i class="f2yn9xneo iconfont icon-RFQ-logo-fill"/>
			<span>测评管理</span>
		  </div>
		  <div class="c_menu" @click="fdzxbuv('xue_xi_guan_li','学习管理')"
		  	 :class="{'c_active_menu':imnkt4m=='学习管理'}">
			<i class="f2yn9xneo iconfont icon-print1"/>
			<span>学习管理</span>
		  </div>
	  </div>
	</div>
	<div class="j8p4h2yxz urif1zr6o">
	  <div>
		<div class="c_right_head">
		  <div>
			<span>
			  <i
			  	 class="c_userIcon iconfont icon-renxiang"/>
			</span>
			<span>admin</span>
		  </div>
		  <div @click="hlayg67">
			退出<i
				 class="f2yn9xneo iconfont icon-tuichu"/>
		  </div>
		</div>
		  <div
		  	 v-if="imnkt4m=='测评管理'"
		  	 class="c_submenu">
			  <div
			  	 @click="p2qtckj('testPaperManagement', '试卷管理')" :class="{'c_active_submenu':zgrdy86=='试卷管理'}">试卷管理</div>
			  <div
			  	 :class="{'c_active_submenu':zgrdy86=='成绩管理'}" @click="p2qtckj('achievementManagement', '成绩管理')">成绩管理</div>
			  <div
			  	 :class="{'c_active_submenu':zgrdy86=='测评管理'}"
			  	 @click="p2qtckj('evaluationAnalysis', '测评管理')">测评管理</div>
		  </div>
		  <div v-if="imnkt4m=='学习管理'"
		  	 class="c_submenu">
			  <div
			  	 @click="p2qtckj('studentManagement', '学生管理')" :class="{'c_active_submenu':zgrdy86=='学生管理'}">学生管理</div>
			  <div
			  	 :class="{'c_active_submenu':zgrdy86=='课件管理'}" @click="p2qtckj('courseWarManage', '课件管理')">课件管理</div>
			  <div @click="p2qtckj('teacherManage', '教师管理')" :class="{'c_active_submenu':zgrdy86=='教师管理'}">教师管理</div>
			  <div
			  	 @click="p2qtckj('remoteManagement', '远程管理')" :class="{'c_active_submenu':zgrdy86=='远程管理'}">远程管理</div>
		  </div>
		<div  class="c_submenu"
			 v-if="imnkt4m=='关于我们'">
		  <div @click="p2qtckj('about', '关于我们')">关于我们</div>
		</div>
	  </div>
	  <div>
		<router-view></router-view>
	  </div>
	</div>
</div>
</template>

<script>
export default {
name: 'mainOne',
data(){
	return{
	  zgrdy86:'',
	  imnkt4m:'',
	}
},
methods:{
	p2qtckj(_url, _name){
		this.zgrdy86 = _name
		sessionStorage.setItem('fMenuName', _name)
		this.$router.push("/" + _url)
	},
	hlayg67(){
		this.$router.push("/")
	},
	fdzxbuv(_url, _name){
	  this.imnkt4m = _name
	  this.zgrdy86 = ''
	},
}
}
</script>

<style>
@import "./index.css";
</style>
<template>
<div class="qm2mespk0">
	  <div class="tf5n1affv">
		<i class="o3yc93ayo iconfont icon-shujuzhongxinguanli" />
		{{qrnmsug}}
	  </div>
	  <div class="jxcsjehh8">
		<div
			 class="pwdffcyj4">
						<div
							 class="vfo206omg">
				<Button
					 @click="ygxjp3p()" :disabled="hkmk6c3.length == 0" class="k7gjof1gm" :style="{backgroundColor: (hkmk6c3.length == 0 ? 'unset' : '#4F2DCC'), color:(hkmk6c3.length == 1 ? '#ffffff' : '#c5c8ce')}">
					<i
					 class="stsyzveya iconfont icon-shuqianguanli"/>删除</Button>
				<Button style="background-color: #0CB6C2" @click="xqtj72b" class="y8l92yof0">
					<i
					 class="stsyzveya iconfont icon-shuqianguanli"/>新增</Button>
				<Button
					 :style="{backgroundColor: (hkmk6c3.length == 1 ? '#A49206' : 'unset'), color:(hkmk6c3.length == 1 ? '#ffffff' : '#c5c8ce')}" @click="bcds6bl()" :disabled="hkmk6c3.length > 1 || hkmk6c3.length == 0"
					 class="p7pqr0ui1">
					<i
					 class="stsyzveya iconfont icon-shuqianguanli"/>修改</Button>
			</div>
			<div
				 style="order:2;"></div>
		</div>

		<div
			 class="aqglcyiha">
			<table >
				<thead>
					<tr>
						<th>#</th>
						<th>学号</th>
						<th>姓名</th>
						<th>年龄</th>
						<th>年级</th>
						<th>学院</th>
						<th>性别</th>
					</tr>
				</thead>
				<tbody
					 ref="table">
					<tr v-for="(data,index) in ovcfjwj.list" :key="index">
						<td><input
							 @click="p1cjadq($event)" :value="data"
							 name="radio"
							 type="radio"></td>
							<td>{{data['studentID']}}</td>
							<td>{{data['accountNumber']}}</td>
							<td>{{data['healthStatus']}}</td>
							<td>{{data['grade']}}</td>
							<td>{{data['college']}}</td>
							<td>{{data['annualSalary']}}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div
			 class="iucup48r0">
			<div class="vs3oto2ut">
				<Input
					 class="xhhj13ubj" v-model="y4r2qg5Data['accountNumber']" placeholder="请输入姓名" />
				<Button @click="y4r2qg5"
					 class="u2kkp13vc">搜索</Button>
			</div>
			<div
				 class="x50ur25sx">
				<span style="margin-right:10px">总计
					<span
					 class="p0xxnt2jwNumb">{{ovcfjwj.total}}</span> 个</span>
				<span
					 style="margin-right:10px">共
					<span class="p0xxnt2jw">{{ovcfjwj.pages}}</span> 页</span>
				<span
					 style="margin-right:10px">当前第
					<span class="ahqpwazqo">{{ovcfjwj.pageNum}}</span> 页</span>|
				<span @click="gk5zqus"
					 v-if="!ovcfjwj.isFirstPage" class="ah4p49pz9">第一页</span>
				<span @click="nc22676" v-if="ovcfjwj.hasPreviousPage"
					 class="xuxfvo3zx">上一页</span>
				<span @click="a1eocag"
					 v-if="ovcfjwj.hasNextPage" class="ebof4iato">下一页</span>
				<span
					 class="n5edkurr2"
					 v-if="!ovcfjwj.isLastPage" @click="zz2qtng">最末页</span>
			</div>
		</div>
	  </div>
	<Modal
		 title="新增" :fullscreen="false" :footer-hide="true" :width="40" :transfer="false"
		 v-model="beny00i">
	  <Form
	  	 :model="ggfdf50"
	  	 ref="addFormData"
	  	 :rules="xcfrmf4" label-position="left" :label-width="100"
	  	 style="padding-bottom: 50px;">
		<Row :gutter="32">
			<Col span="12">
			  <FormItem  prop="studentID" label="学号">
				<Input v-model="ggfdf50['studentID']"
					 placeholder="请输入学号..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem  prop="accountNumber"
			  	 label="姓名">
				<Input
					 v-model="ggfdf50['accountNumber']"
					 placeholder="请输入姓名..."></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem  prop="healthStatus"
			  	 label="年龄">
				<Input
					 v-model="ggfdf50['healthStatus']"
					 placeholder="请输入年龄..."></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem label="年级"
			  	  prop="grade">
				<Input placeholder="请输入年级..."
					 v-model="ggfdf50['grade']"></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="college"
			  	 label="学院">
				<Input
					 v-model="ggfdf50['college']"
					 placeholder="请输入学院..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="annualSalary"
			  	 label="性别">
				<Input placeholder="请输入性别..." v-model="ggfdf50['annualSalary']"></Input>
			  </FormItem>
			</Col>
		</Row>
	  </Form>
	  <div class="ks24zpzay">
		<Button
			 @click="xlxsadx" style="margin: 0 20px">关闭</Button>
		<Button
			 @click="cqq1vf6('addFormData')" type="primary"
			 style="margin: 0 20px">提交</Button>
	  </div>
	</Modal>
	<Modal :fullscreen="false" :transfer="false" v-model="llz5jbc" :footer-hide="true" title="修改"
		 :width="40">
	  <Form
	  	 style="padding-bottom: 50px;" :label-width="100" :model="ggfdf50"
	  	 label-position="left"
	  	 :rules="xcfrmf4"
	  	 ref="editFormData">
		<Row
			 :gutter="32">
			<Col
				 span="12">
			  <FormItem label="学号"
			  	  prop="studentID">
				<Input placeholder="请输入学号..."
					 v-model="ggfdf50['studentID']"></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	 label="姓名"  prop="accountNumber">
				<Input
					 v-model="ggfdf50['accountNumber']"
					 placeholder="请输入姓名..."></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem  prop="healthStatus"
			  	 label="年龄">
				<Input
					 placeholder="请输入年龄..." v-model="ggfdf50['healthStatus']"></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem
			  	  prop="grade"
			  	 label="年级">
				<Input
					 placeholder="请输入年级..." v-model="ggfdf50['grade']"></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	 label="学院"
			  	  prop="college">
				<Input
					 placeholder="请输入学院..."
					 v-model="ggfdf50['college']"></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="annualSalary"
			  	 label="性别">
				<Input
					 v-model="ggfdf50['annualSalary']"
					 placeholder="请输入性别..."></Input>
			  </FormItem>
			</Col>
		</Row>
	  </Form>
	  <div class="ks24zpzay">
		<Button @click="v1gb62w" style="margin: 0 20px">关闭</Button>
		<Button
			 @click="hrhbwo0('editFormData')"
			 type="primary" style="margin: 0 20px">提交</Button>
	  </div>
	</Modal>
</div>
</template>

<script>
import {
studentManagementService} from '@/api'
export default {
	data () {
		return {
			y4r2qg5Data:{},
			qrnmsug:'',
			beny00i:false,
		  mdhyntr: {
		  },
			llz5jbc:false,
			yk8xgly: {
			},
			xcfrmf4:{
					'studentID':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'accountNumber':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'healthStatus':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'grade':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'college':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'annualSalary':[
					{
						required: true,
						message: '不能为空'
					}
					],
			},
			ovcfjwj:{
				list: []
			},
			ggfdf50:{
				'studentID':'',
				'accountNumber':'',
				'healthStatus':'',
				'grade':'',
				'college':'',
				'annualSalary':'',
			},
			hkmk6c3:[],
		  lpdwsm2: {
		  },
			ed1ju3y:{
				xt3mdzy:10,
				r0iu7c4:1,
			},
		}
	},
	mounted () {
		this.qrnmsug = sessionStorage.getItem('sMenuName') || sessionStorage.getItem('fMenuName')
		this.oqds7i3()
		this.vfxmp46();
	},
	methods: {
		vfxmp46() {
		},

			ygxjp3p(id){
				let ids = []
				if(id){
					ids.push(id)
				}else if(this.hkmk6c3.length > 0){
					ids = this.hkmk6c3.map(item => item.id)
				}
				studentManagementService.removeStudentManagement(ids).then(res => {
				if(res.success){
						this.hkmk6c3 = []
						this.$Message.success('删除成功')
						this.oqds7i3()
					} else {
						this.$Message.error('删除失败')
					}
				})
			},
			oqds7i3() {
				studentManagementService.getStudentManagementPageList(this.y4r2qg5Data, this.ed1ju3y.r0iu7c4, this.ed1ju3y.xt3mdzy).then(res => {
				if(res.success){
					this.ovcfjwj = res.data
				}
				})
			},
			cqq1vf6(name){
			this.$refs[name].validate((valid) => {
				if (valid) {
				studentManagementService.addStudentManagement(this.ggfdf50).then(res => {
					if(res.success){
					this.$Message.success('新增成功')
					this.xlxsadx()
					this.oqds7i3()
					}else{
					this.$Message.error('新增失败')
					}
				})
				} else {
					this.$Message.error('请填写完整');
				}
			})
			},
			hrhbwo0(name){
			this.$refs[name].validate((valid) => {
				if (valid) {
				studentManagementService.update(this.ggfdf50).then(res => {
					if(res.success){
					this.$Message.success('修改成功')
					this.v1gb62w()
					this.oqds7i3()
					}else{
					this.$Message.error('修改失败')
					}
				})
				} else {
					this.$Message.error('请填写完整');
				}
			})
			},

		
		xqtj72b(){
			this.beny00i = true
			this.$refs.addFormData.resetFields();
		},
	
		xlxsadx(){
			this.beny00i = false
			this.ggfdf50 = {
			'studentID':'',
			'accountNumber':'',
			'healthStatus':'',
			'grade':'',
			'college':'',
			'annualSalary':'',
			}
		},
		

		bcds6bl(itemData){

			if(itemData){
			this.ggfdf50 = {...itemData}
			this.llz5jbc = true
			}else if(this.hkmk6c3.length > 0){
			this.ggfdf50 = {...this.hkmk6c3[0]}
			this.llz5jbc = true
			}else{
			this.$Message.error('请选择需要修改的数据项')
			}
			this.$refs.editFormData.resetFields();
		},
		
		v1gb62w(){
			this.llz5jbc = false
			this.ggfdf50 = {

			'studentID':'',
			'accountNumber':'',
			'healthStatus':'',
			'grade':'',
			'college':'',
			'annualSalary':'',
			}
		},
		
		y4r2qg5(){
			this.ed1ju3y.r0iu7c4 = 1
			this.oqds7i3()
		},
		
		br5zggl(e){
		let checked = e.target.checked
		let checkDom = this.$refs.table.getElementsByClassName('w00s0txtk')
		if(checked){
			this.hkmk6c3 = []
			for(let i=0; i<checkDom.length; i++){
			checkDom[i].checked = true
			this.hkmk6c3.push(checkDom[i]._value)
			}
		}else{
			for(let i=0; i<checkDom.length; i++){
			checkDom[i].checked = false
			}
			this.hkmk6c3 = []
		}
		console.log(this.hkmk6c3)
		},
	
		nkveno8(e){
		let checked = e.target.checked
		let val = e.target._value
		if(checked){
			this.hkmk6c3.push(val)
		}else{
			let clearIndex = this.hkmk6c3.indexOf(val)
			this.hkmk6c3.splice(clearIndex,1)
		}
		console.log(this.hkmk6c3)
		},

		p1cjadq(e){
		let val = e.target._value
		this.hkmk6c3 = []
		this.hkmk6c3.push(val)
		console.log(this.hkmk6c3)
		},

		gk5zqus(){
			this.ed1ju3y.r0iu7c4 = 1
			this.oqds7i3()
		},

		zz2qtng(){
			this.ed1ju3y.r0iu7c4 = this.ovcfjwj.navigateLastPage
			this.oqds7i3()
		},

		nc22676(){
			this.ed1ju3y.r0iu7c4 = this.ed1ju3y.r0iu7c4 - 1
			this.oqds7i3()
		},

		a1eocag(){
			this.ed1ju3y.r0iu7c4 = this.ed1ju3y.r0iu7c4 + 1
			this.oqds7i3()
		},
	}
}
</script>

<style
	 scoped>
@import "./index.css"
</style>
<template>
<div class="pcdyrp327">
	  <div class="cptn33qmq  rhf0l4h5z">
	  <div class="j6di68j4z">
		  <div class="pwdffcyj4 vub48htu2">
			  <div
			  	 class="i03dbesso">
				<Button class="p7pqr0ui1" @click="bcds6bl()" :style="{backgroundColor: (hkmk6c3.length == 1 ? '#A49206' : 'unset'),color: (hkmk6c3.length == 1 ? '#fff' : '#666')}"
					 :disabled="hkmk6c3.length > 1 || hkmk6c3.length == 0">修改</Button>
				<Button
					 :style="{backgroundColor: (hkmk6c3.length == 0 ? 'unset' : '#4F2DCC'),color: (hkmk6c3.length == 0 ? '#666' : '#fff')}"
					 :disabled="hkmk6c3.length == 0" class="k7gjof1gm"
					 @click="ygxjp3p()">删除</Button>
				<Button
					 class="y8l92yof0" @click="xqtj72b"
					  style="background-color: #0CB6C2">新增</Button>
			  </div>
		  </div>
		  <div
		  	 class="vs3oto2ut">
		</div>
		</div>
		<div
			 class="x50ur25sx">
		  <div v-if="ovcfjwj.hasPreviousPage"
		  	 @click="uo2d0mw" class="i5jwiaw7n">
		  	<Icon type="ios-arrow-back" size="18"/></div>
		  <div
		  	 class="k78fhz1dk">
			<span
				 class="zopeir1ib" :class="{'zurebpv4h':ovcfjwj.pageNum == numb}"
				 v-for="(numb,index) in ovcfjwj.pages"
				 :key="index"
				 @click="hei8gem(numb)">{{numb}}</span>
		  </div>
		  <div
		  	 @click="f20hn5j" v-if="ovcfjwj.hasNextPage"
		  	 class="trxoxyhtn">
		  	<Icon type="ios-arrow-forward"
		  	  size="18"/></div>
		</div>
	  </div>
		<div
			 class="rouxfrna6">
		  <div
		  	 class="aqglcyiha aqglcyihaDownHeight  ">
			<table >
			  <thead>
				<tr>
				  <th>#</th>
				  <th>试卷编码</th>
				  <th>所属课程</th>
				  <th>授课老师</th>
				  <th>合格标准</th>
				  <th>创建时间</th>
				  <th>有效截止日期</th>
				</tr>
			  </thead>
			  <tbody
			  	 ref="table">
				<tr v-for="(data,index) in ovcfjwj.list" :key="index">
				  <td><input type="radio" @click="p1cjadq($event)"
				  	 name="radio" :value="data"></td>
					  <td>{{data['testPaperCode']}}</td>
					  <td>{{data['belongHours']}}</td>
					  <td>{{data['lecturer']}}</td>
					  <td>{{data['qualificationCriteria']}}</td>
					  <td>{{data['telphone']}}</td>
					  <td>{{data['validUntil']}}</td>
				</tr>
			  </tbody>
			</table>
		  </div>
		  <div
		  	 class="iucup48r0 " >
		  </div>
		</div>
		<Modal :transfer="false"
			 :fullscreen="false"
			 :width="40" title="修改" v-model="llz5jbc"
			 :footer-hide="true">
		  <Form :label-width="100" :rules="xcfrmf4"
		  	 style="padding-bottom: 50px;"
		  	 label-position="left" :model="ggfdf50" ref="editFormData">
			<Row :gutter="32">
				<Col
					 span="12">
				  <FormItem
				  	 label="试卷编码"  prop="testPaperCode">
					<Input
						 v-model="ggfdf50['testPaperCode']" placeholder="请输入试卷编码..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	 label="所属课程"
				  	  prop="belongHours">
					<Input placeholder="请输入所属课程..."
						 v-model="ggfdf50['belongHours']"></Input>
				  </FormItem>
				</Col>
				<Col
					 span="12">
				  <FormItem
				  	 label="授课老师"  prop="lecturer">
					<Input
						 v-model="ggfdf50['lecturer']"
						 placeholder="请输入授课老师..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem  prop="qualificationCriteria"
				  	 label="合格标准">
					<Input
						 v-model="ggfdf50['qualificationCriteria']"
						 placeholder="请输入合格标准..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	 label="创建时间"
				  	  prop="telphone">
					<Input
						 v-model="ggfdf50['telphone']" placeholder="请输入创建时间..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	 label="有效截止日期"  prop="validUntil">
					<Input
						 v-model="ggfdf50['validUntil']"
						 placeholder="请输入有效截止日期..."></Input>
				  </FormItem>
				</Col>
			</Row>
		  </Form>
		  <div
		  	 class="ks24zpzay">
			<Button
				 style="margin: 0 20px" @click="v1gb62w">关闭</Button>
			<Button
				 style="margin: 0 20px"
				 type="primary"
				 @click="hrhbwo0('editFormData')">提交</Button>
		  </div>
		</Modal>
		<Modal
			 :fullscreen="false"
			 title="新增" :footer-hide="true"
			 :transfer="false" :width="40" v-model="beny00i">
		  <Form
		  	 :label-width="100"
		  	 ref="addFormData" style="padding-bottom: 50px;"
		  	 label-position="left"
		  	 :model="ggfdf50" :rules="xcfrmf4">
			<Row :gutter="32">
				<Col
					 span="12">
				  <FormItem
				  	  prop="testPaperCode" label="试卷编码">
					<Input placeholder="请输入试卷编码..."
						 v-model="ggfdf50['testPaperCode']"></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem  prop="belongHours"
				  	 label="所属课程">
					<Input v-model="ggfdf50['belongHours']" placeholder="请输入所属课程..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	  prop="lecturer"
				  	 label="授课老师">
					<Input v-model="ggfdf50['lecturer']"
						 placeholder="请输入授课老师..."></Input>
				  </FormItem>
				</Col>
				<Col
					 span="12">
				  <FormItem
				  	 label="合格标准"  prop="qualificationCriteria">
					<Input v-model="ggfdf50['qualificationCriteria']"
						 placeholder="请输入合格标准..."></Input>
				  </FormItem>
				</Col>
				<Col
					 span="12">
				  <FormItem  prop="telphone"
				  	 label="创建时间">
					<Input
						 v-model="ggfdf50['telphone']"
						 placeholder="请输入创建时间..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	  prop="validUntil" label="有效截止日期">
					<Input v-model="ggfdf50['validUntil']"
						 placeholder="请输入有效截止日期..."></Input>
				  </FormItem>
				</Col>
			</Row>
		  </Form>
		  <div
		  	 class="ks24zpzay">
			<Button style="margin: 0 20px"
				 @click="xlxsadx">关闭</Button>
			<Button @click="cqq1vf6('addFormData')"
				 type="primary" style="margin: 0 20px">提交</Button>
		  </div>
		</Modal>
</div>
</template>

<script>
import {
testPaperManagementService} from '@/api'
export default {
data(){
	return{
	  beny00i:false,
	  y4r2qg5Data:{},
	  yk8xgly: {
	  },
	  ovcfjwj:{
		list:[]
	  },
	  hkmk6c3:[],
		  mdhyntr: {
		  },
		  lpdwsm2: {
		  },
	  ed1ju3y:{
	  },
	  llz5jbc:false,
	  ggfdf50:{
		'testPaperCode':'',
		'belongHours':'',
		'lecturer':'',
		'qualificationCriteria':'',
		'telphone':'',
		'validUntil':'',
	  },
	  xcfrmf4:{
			'testPaperCode':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'belongHours':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'lecturer':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'qualificationCriteria':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'telphone':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'validUntil':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
	  },
	}
},
mounted () {
	this.oqds7i3();
	this.vfxmp46();
},
methods:{
	vfxmp46() {
		},

		hrhbwo0(name){
		  this.$refs[name].validate((valid) => {
			if (valid) {
			  testPaperManagementService.update(this.ggfdf50).then(res => {
				if(res.success){
				  this.$Message.success('修改成功')
				  this.v1gb62w()
				  this.oqds7i3()
				}else{
				  this.$Message.error('修改失败')
				}
			  })
			} else {
				this.$Message.error('请填写完整');
			}
		  })
		},
		ygxjp3p(id){
			let ids = []
			if(id){
				ids.push(id)
			}else if(this.hkmk6c3.length > 0){
				ids = this.hkmk6c3.map(item => item.id)
			}else{
				this.$Message.error('请选择删除数据')
			}
			testPaperManagementService.removeTestPaperManagement(ids).then(res => {
			if(res.success){
					this.hkmk6c3 = []
					this.$Message.success('删除成功')
					this.oqds7i3()
				} else {
					this.$Message.error('删除失败')
				}
			})
		},
		cqq1vf6(name){
		  this.$refs[name].validate((valid) => {
			if (valid) {
			  testPaperManagementService.addTestPaperManagement(this.ggfdf50).then(res => {
				if(res.success){
				  this.$Message.success('新增成功')
				  this.xlxsadx()
				  this.oqds7i3()
				}else{
				  this.$Message.error('新增失败')
				}
			  })
			} else {
				this.$Message.error('请填写完整');
			}
		  })
		},
		  oqds7i3() {
			testPaperManagementService.getTestPaperManagementPageList(this.y4r2qg5Data, this.ed1ju3y.j_pageNum, this.ed1ju3y.j_pageSize).then(res => {
			  if(res.success){
				this.ovcfjwj = res.data
			  }
			})
		  },

	  xqtj72b(){
		this.beny00i = true
		this.$refs.addFormData.resetFields();
	  },
	
	  xlxsadx(){
		this.beny00i = false
		this.ggfdf50 = {
		  'testPaperCode':'',
		if(this.ovcfjwj.hasNextPage){
		this.ed1ju3y.j_pageNum = this.ovcfjwj.nextPage
		this.oqds7i3()
		}
	  },

	br5zggl(e){
	  let checked = e.target.checked
	  let checkDom = this.$refs.table.getElementsByClassName('selBtn')
	  if(checked){
		this.hkmk6c3 = []
		for(let i=0; i<checkDom.length; i++){
		  checkDom[i].checked = true
		  this.hkmk6c3.push(checkDom[i]._value)
		}
	  }else{
		for(let i=0; i<checkDom.length; i++){
		  checkDom[i].checked = false
		}
		this.hkmk6c3 = []
	  }
	},

	nkveno8(e){
	  let checked = e.target.checked
	  let val = e.target._value
	  if(checked){
		this.hkmk6c3.push(val)
	  }else{
		let clearIndex = this.hkmk6c3.indexOf(val)
		this.hkmk6c3.splice(clearIndex,1)
	  }
	},

	p1cjadq(e){
	  let val = e.target._value
	  this.hkmk6c3 = []
	  this.hkmk6c3.push(val)
	},

	hei8gem(pageNumb){
	  this.ed1ju3y.j_pageNum = pageNumb
	  this.oqds7i3()
	}
}
}
</script>

<style
	 scoped>
	@import "./index.css";
</style>
<template>
<div class="ag44ampkb">
	<div
		 class="k5a6uofir">表单信息</div>
	<div
		 class="z62ldpkud">
		  <Form :label-width="100" :rules="xcfrmf4"
		  	 style="padding-bottom: 50px;"
		  	 ref="FormData"
		  	 label-position="left" :model="ggfdf50">
			<Row :gutter="32">
								<Col span="12">
					<FormItem label="学生姓名"  prop="studentName" >
					  <Input class="dkjj6net8"
					  	 placeholder="请输入学生姓名..." v-model="ggfdf50['studentName']"></Input>
					</FormItem>
				  </Col>
				  <Col
				  	 span="12">
					<FormItem
						  prop="testPaper" label="试卷" >
					  <Input placeholder="请输入试卷..." v-model="ggfdf50['testPaper']"
					  	 class="dkjj6net8"></Input>
					</FormItem>
				  </Col>
				  <Col span="12">
					<FormItem
						  prop="learningDuration"
						 label="学习时长" >
					  <Input placeholder="请输入学习时长..."
					  	 v-model="ggfdf50['learningDuration']" class="dkjj6net8"></Input>
					</FormItem>
				  </Col>
				  <Col span="12">
					<FormItem
						 label="考试成绩"  prop="achieve" >
					  <Input
					  	 placeholder="请输入考试成绩..."
					  	 v-model="ggfdf50['achieve']" class="dkjj6net8"></Input>
					</FormItem>
				  </Col>
				  <Col
				  	 span="12">
					<FormItem
						  prop="examinationQualification"
						 label="考试合格情况" >
					  <Input
					  	 v-model="ggfdf50['examinationQualification']"
					  	 placeholder="请输入考试合格情况..." class="dkjj6net8"></Input>
					</FormItem>
				  </Col>
				  <Col
				  	 span="12">
					<FormItem
						 label="统计时间"  prop="tongJiShiJian" >
					  <Input
					  	 v-model="ggfdf50['tongJiShiJian']"
					  	 placeholder="请输入统计时间..." class="dkjj6net8"></Input>
					</FormItem>
				  </Col>
			</Row>
		  </Form>
		  <div
		  	 class="ixr5eom8h">
			<Button style="margin: 0 20px" @click="xzsyjjp">重置</Button>
			<Button style="margin: 0 20px; background-color: #2979C9; color:#fff;"
				 @click="wk69yme('FormData')">确认提交</Button>
		  </div>
	</div>
</div>
</template>

<script>
import {
achievementManagementService} from '@/api'
export default {
data () {
	return {
	  ggfdf50:{
		'studentName':'',
		'testPaper':'',
		'learningDuration':'',
		'achieve':'',
		'examinationQualification':'',
		'tongJiShiJian':'',
	  },
	  mdhyntr: {
	  },
	  xcfrmf4:{
			'studentName':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'testPaper':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'learningDuration':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'achieve':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'examinationQualification':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'tongJiShiJian':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
	  },
	  yk8xgly: {
	  },
	}
},
mounted () {
	this.vfxmp46();
},
methods:{
	vfxmp46() {
		},
	xzsyjjp(){
	  this.ggfdf50 = {
		'studentName':'',
		'testPaper':'',
		'learningDuration':'',
		'achieve':'',
		'examinationQualification':'',
		'tongJiShiJian':'',
	  }
	  this.$refs.FormData.resetFields();
	},
		wk69yme(name){
		  this.$refs[name].validate((valid) => {
			if (valid) {
			  achievementManagementService.addAchievementManagement(this.ggfdf50).then(res => {
				if(res.success){
				  this.$Message.success('提交成功')
				}else{
				  this.$Message.error('提交失败')
				}
			  })
			} else {
			  this.$Message.error('请填写完整');
			}
		  })
		},
}
}
</script>

<style scoped>
	@import './index.css';
</style>
<template>
<div
	 class="qm2mespk0">
	  <div
	  	 class="tf5n1affv">
		<i
			 class="o3yc93ayo iconfont icon-shujuzhongxinguanli" />
		{{qrnmsug}}
	  </div>
	  <div
	  	 class="jxcsjehh8">
		<div
			 class="pwdffcyj4">
						<div class="vfo206omg">
				<Button class="y8l92yof0" style="background-color: #0CB6C2"
					 @click="xqtj72b">
					<i class="stsyzveya iconfont icon-shuqianguanli"/>新增</Button>
				<Button
					 :disabled="hkmk6c3.length == 0" :style="{backgroundColor: (hkmk6c3.length == 0 ? 'unset' : '#4F2DCC'), color:(hkmk6c3.length == 1 ? '#ffffff' : '#c5c8ce')}"
					 @click="ygxjp3p()" class="k7gjof1gm">
					<i class="stsyzveya iconfont icon-shuqianguanli"/>删除</Button>
				<Button class="p7pqr0ui1"
					 @click="bcds6bl()"
					 :disabled="hkmk6c3.length > 1 || hkmk6c3.length == 0" :style="{backgroundColor: (hkmk6c3.length == 1 ? '#A49206' : 'unset'), color:(hkmk6c3.length == 1 ? '#ffffff' : '#c5c8ce')}">
					<i
					 class="stsyzveya iconfont icon-shuqianguanli"/>修改</Button>
			</div>
			<div
				 style="order:2;"></div>
		</div>

		<div class="aqglcyiha">
			<table >
				<thead>
					<tr>
						<th>#</th>
						<th>课件名称</th>
						<th>课件类型</th>
						<th>所在学院</th>
						<th>创建时间</th>
						<th>课件编码</th>
					</tr>
				</thead>
				<tbody
					 ref="table">
					<tr
						 :key="index" v-for="(data,index) in ovcfjwj.list">
						<td><input
							 :value="data"
							 name="radio" type="radio"
							 @click="p1cjadq($event)"></td>
							<td>{{data['courseWarName']}}</td>
							<td>{{data['coursewareType']}}</td>
							<td>{{data['college']}}</td>
							<td>{{data['chuangJianS']}}</td>
							<td>{{data['coursewareCoding']}}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div
			 class="iucup48r0">
			<div
				 class="vs3oto2ut">
				<Input placeholder="请输入课件名称"
					 v-model="y4r2qg5Data['courseWarName']" class="xhhj13ubj" />
				<Button class="u2kkp13vc" @click="y4r2qg5">搜索</Button>
			</div>
			<div
				 class="x50ur25sx">
				<span
					 style="margin-right:10px">总计
					<span
					 class="p0xxnt2jwNumb">{{ovcfjwj.total}}</span> 个</span>
				<span style="margin-right:10px">共
					<span class="p0xxnt2jw">{{ovcfjwj.pages}}</span> 页</span>
				<span
					 style="margin-right:10px">当前第
					<span
					 class="ahqpwazqo">{{ovcfjwj.pageNum}}</span> 页</span>|
				<span
					 class="ah4p49pz9"
					 v-if="!ovcfjwj.isFirstPage"
					 @click="gk5zqus">第一页</span>
				<span
					 v-if="ovcfjwj.hasPreviousPage" class="xuxfvo3zx"
					 @click="nc22676">上一页</span>
				<span
					 class="ebof4iato" @click="a1eocag"
					 v-if="ovcfjwj.hasNextPage">下一页</span>
				<span
					 class="n5edkurr2"
					 @click="zz2qtng" v-if="!ovcfjwj.isLastPage">最末页</span>
			</div>
		</div>
	  </div>
	<Modal v-model="beny00i" title="新增"
		 :width="40" :fullscreen="false" :transfer="false" :footer-hide="true">
	  <Form :label-width="100"
	  	 ref="addFormData" :model="ggfdf50" style="padding-bottom: 50px;"
	  	 :rules="xcfrmf4" label-position="left">
		<Row
			 :gutter="32">
			<Col span="12">
			  <FormItem label="课件名称"
			  	  prop="courseWarName">
				<Input v-model="ggfdf50['courseWarName']"
					 placeholder="请输入课件名称..."></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem  prop="coursewareType" label="课件类型">
				<Input placeholder="请输入课件类型..."
					 v-model="ggfdf50['coursewareType']"></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem
			  	  prop="coursewareDescription"
			  	 label="课件描述">
				<Input placeholder="请输入课件描述..." v-model="ggfdf50['coursewareDescription']"></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem
			  	 label="所在学院"
			  	  prop="college">
				<Input placeholder="请输入所在学院..."
					 v-model="ggfdf50['college']"></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem
			  	  prop="chuangJianS" label="创建时间">
				<Input placeholder="请输入创建时间..." v-model="ggfdf50['chuangJianS']"></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="coursewareCoding" label="课件编码">
				<Input v-model="ggfdf50['coursewareCoding']" placeholder="请输入课件编码..."></Input>
			  </FormItem>
			</Col>
		</Row>
	  </Form>
	  <div class="ks24zpzay">
		<Button style="margin: 0 20px"
			 @click="xlxsadx">关闭</Button>
		<Button @click="cqq1vf6('addFormData')"
			 type="primary" style="margin: 0 20px">提交</Button>
	  </div>
	</Modal>
	<Modal
		 title="修改"
		 :width="40" :fullscreen="false" v-model="llz5jbc"
		 :transfer="false" :footer-hide="true">
	  <Form
	  	 :label-width="100" ref="editFormData"
	  	 label-position="left" :model="ggfdf50" style="padding-bottom: 50px;"
	  	 :rules="xcfrmf4">
		<Row :gutter="32">
			<Col
				 span="12">
			  <FormItem
			  	  prop="courseWarName"
			  	 label="课件名称">
				<Input
					 v-model="ggfdf50['courseWarName']" placeholder="请输入课件名称..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="coursewareType" label="课件类型">
				<Input
					 placeholder="请输入课件类型..." v-model="ggfdf50['coursewareType']"></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem
			  	  prop="coursewareDescription"
			  	 label="课件描述">
				<Input v-model="ggfdf50['coursewareDescription']"
					 placeholder="请输入课件描述..."></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem  prop="college" label="所在学院">
				<Input placeholder="请输入所在学院..."
					 v-model="ggfdf50['college']"></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem  prop="chuangJianS" label="创建时间">
				<Input
					 v-model="ggfdf50['chuangJianS']"
					 placeholder="请输入创建时间..."></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem  prop="coursewareCoding" label="课件编码">
				<Input
					 placeholder="请输入课件编码..."
					 v-model="ggfdf50['coursewareCoding']"></Input>
			  </FormItem>
			</Col>
		</Row>
	  </Form>
	  <div class="ks24zpzay">
		<Button
			 style="margin: 0 20px" @click="v1gb62w">关闭</Button>
		<Button
			 @click="hrhbwo0('editFormData')" type="primary"
			 style="margin: 0 20px">提交</Button>
	  </div>
	</Modal>
</div>
</template>

<script>
import {
courseWarManageService} from '@/api'
export default {
	data () {
		return {
			hkmk6c3:[],
			qrnmsug:'',
			xcfrmf4:{
					'courseWarName':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'coursewareType':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'coursewareDescription':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'college':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'chuangJianS':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'coursewareCoding':[
					{
						required: true,
						message: '不能为空'
					}
					],
			},
			ed1ju3y:{
				xt3mdzy:10,
				r0iu7c4:1,
			},
			yk8xgly: {
			},
			ovcfjwj:{
				list: []
			},
		  mdhyntr: {
		  },
		  lpdwsm2: {
		  },
			ggfdf50:{
				'courseWarName':'',
				'coursewareType':'',
				'coursewareDescription':'',
				'college':'',
		let val = e.target._value
		if(checked){
			this.hkmk6c3.push(val)
		}else{
			let clearIndex = this.hkmk6c3.indexOf(val)
			this.hkmk6c3.splice(clearIndex,1)
		}
		console.log(this.hkmk6c3)
		},

		p1cjadq(e){
		let val = e.target._value
		this.hkmk6c3 = []
		this.hkmk6c3.push(val)
		console.log(this.hkmk6c3)
		},

		gk5zqus(){
			this.ed1ju3y.r0iu7c4 = 1
			this.oqds7i3()
		},

		zz2qtng(){
			this.ed1ju3y.r0iu7c4 = this.ovcfjwj.navigateLastPage
			this.oqds7i3()
		},

		nc22676(){
			this.ed1ju3y.r0iu7c4 = this.ed1ju3y.r0iu7c4 - 1
			this.oqds7i3()
		},

		a1eocag(){
			this.ed1ju3y.r0iu7c4 = this.ed1ju3y.r0iu7c4 + 1
			this.oqds7i3()
		},
	}
}
</script>

<style scoped>
@import "./index.css"
</style>
<template>
<div class="qm2mespk0">
	  <div
	  	 class="tf5n1affv">
		<i class="o3yc93ayo iconfont icon-shujuzhongxinguanli" />
		{{qrnmsug}}
	  </div>
	  <div class="jxcsjehh8">
		<div class="pwdffcyj4">
						<div class="vfo206omg">
				<Button
					 :style="{backgroundColor: (hkmk6c3.length == 1 ? '#A49206' : 'unset'), color:(hkmk6c3.length == 1 ? '#ffffff' : '#c5c8ce')}"
					 :disabled="hkmk6c3.length > 1 || hkmk6c3.length == 0"
					 class="p7pqr0ui1" @click="bcds6bl()">
					<i class="stsyzveya iconfont icon-shuqianguanli"/>修改</Button>
				<Button @click="xqtj72b"
					 class="y8l92yof0"
					 style="background-color: #0CB6C2">
					<i class="stsyzveya iconfont icon-shuqianguanli"/>新增</Button>
				<Button
					 :disabled="hkmk6c3.length == 0" :style="{backgroundColor: (hkmk6c3.length == 0 ? 'unset' : '#4F2DCC'), color:(hkmk6c3.length == 1 ? '#ffffff' : '#c5c8ce')}" class="k7gjof1gm" @click="ygxjp3p()">
					<i
					 class="stsyzveya iconfont icon-shuqianguanli"/>删除</Button>
			</div>
			<div
				 style="order:2;"></div>
		</div>

		<div
			 class="aqglcyiha">
			<table >
				<thead>
					<tr>
						<th>#</th>
						<th>记录时间</th>
						<th>讲师好评度</th>
						<th>学员满意度</th>
						<th>测评通过度</th>
						<th>学习时长</th>
						<th>结果反馈</th>
					</tr>
				</thead>
				<tbody ref="table">
					<tr v-for="(data,index) in ovcfjwj.list"
						 :key="index">
						<td><input
							 name="radio" @click="p1cjadq($event)"
							 type="radio"
							 :value="data"></td>
							<td>{{data['recordTime']}}</td>
							<td>{{data['lecturerPraise']}}</td>
							<td>{{data['studentSatisfaction']}}</td>
							<td>{{data['assessmentPassingDegree']}}</td>
							<td>{{data['trainingDuration']}}</td>
							<td>{{data['resultFeedback']}}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div
			 class="iucup48r0">
			<div class="vs3oto2ut">
				<Input class="xhhj13ubj"
					 v-model="y4r2qg5Data['recordTime']" placeholder="请输入记录时间" />
				<Button
					 @click="y4r2qg5" class="u2kkp13vc">搜索</Button>
			</div>
			<div
				 class="x50ur25sx">
				<span
					 style="margin-right:10px">总计
					<span
					 class="p0xxnt2jwNumb">{{ovcfjwj.total}}</span> 个</span>
				<span style="margin-right:10px">共
					<span
					 class="p0xxnt2jw">{{ovcfjwj.pages}}</span> 页</span>
				<span
					 style="margin-right:10px">当前第
					<span
					 class="ahqpwazqo">{{ovcfjwj.pageNum}}</span> 页</span>|
				<span class="ah4p49pz9" v-if="!ovcfjwj.isFirstPage" @click="gk5zqus">第一页</span>
				<span
					 class="xuxfvo3zx"
					 v-if="ovcfjwj.hasPreviousPage"
					 @click="nc22676">上一页</span>
				<span
					 @click="a1eocag"
					 v-if="ovcfjwj.hasNextPage" class="ebof4iato">下一页</span>
				<span
					 class="n5edkurr2" v-if="!ovcfjwj.isLastPage" @click="zz2qtng">最末页</span>
			</div>
		</div>
	  </div>
	<Modal
		 :fullscreen="false"
		 :width="40"
		 title="修改" :transfer="false"
		 v-model="llz5jbc" :footer-hide="true">
	  <Form
	  	 style="padding-bottom: 50px;" :rules="xcfrmf4" ref="editFormData"
	  	 label-position="left"
	  	 :label-width="100" :model="ggfdf50">
		<Row :gutter="32">
			<Col span="12">
			  <FormItem label="记录时间"  prop="recordTime">
				<Input
					 placeholder="请输入记录时间..." v-model="ggfdf50['recordTime']"></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem
			  	  prop="lecturerPraise"
			  	 label="讲师好评度">
				<Input
					 v-model="ggfdf50['lecturerPraise']" placeholder="请输入讲师好评度..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="studentSatisfaction" label="学员满意度">
				<Input
					 v-model="ggfdf50['studentSatisfaction']" placeholder="请输入学员满意度..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="assessmentPassingDegree"
			  	 label="测评通过度">
				<Input
					 v-model="ggfdf50['assessmentPassingDegree']" placeholder="请输入测评通过度..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem label="学习时长"  prop="trainingDuration">
				<Input
					 placeholder="请输入学习时长..." v-model="ggfdf50['trainingDuration']"></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem
			  	  prop="resultFeedback" label="结果反馈">
				<Input v-model="ggfdf50['resultFeedback']"
					 placeholder="请输入结果反馈..."></Input>
			  </FormItem>
			</Col>
		</Row>
	  </Form>
	  <div
	  	 class="ks24zpzay">
		<Button style="margin: 0 20px"
			 @click="v1gb62w">关闭</Button>
		<Button
			 @click="hrhbwo0('editFormData')" type="primary"
			 style="margin: 0 20px">提交</Button>
	  </div>
	</Modal>
	<Modal
		 :fullscreen="false"
		 :width="40" :footer-hide="true"
		 title="新增" :transfer="false"
		 v-model="beny00i">
	  <Form
	  	 :model="ggfdf50"
	  	 ref="addFormData" style="padding-bottom: 50px;"
	  	 label-position="left"
	  	 :rules="xcfrmf4"
	  	 :label-width="100">
		<Row :gutter="32">
			<Col span="12">
			  <FormItem
			  	  prop="recordTime"
			  	 label="记录时间">
				<Input
					 placeholder="请输入记录时间..." v-model="ggfdf50['recordTime']"></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem label="讲师好评度"
			  	  prop="lecturerPraise">
				<Input
					 v-model="ggfdf50['lecturerPraise']"
					 placeholder="请输入讲师好评度..."></Input>
			  </FormItem>
			</Col>
			<Col
				 span="12">
			  <FormItem  prop="studentSatisfaction"
			  	 label="学员满意度">
				<Input v-model="ggfdf50['studentSatisfaction']"
					 placeholder="请输入学员满意度..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="assessmentPassingDegree" label="测评通过度">
				<Input
					 v-model="ggfdf50['assessmentPassingDegree']" placeholder="请输入测评通过度..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="trainingDuration" label="学习时长">
				<Input
					 v-model="ggfdf50['trainingDuration']"
					 placeholder="请输入学习时长..."></Input>
			  </FormItem>
			</Col>
			<Col span="12">
			  <FormItem
			  	  prop="resultFeedback" label="结果反馈">
				<Input placeholder="请输入结果反馈..." v-model="ggfdf50['resultFeedback']"></Input>
			  </FormItem>
			</Col>
		</Row>
	  </Form>
	  <div class="ks24zpzay">
		<Button style="margin: 0 20px"
			 @click="xlxsadx">关闭</Button>
		<Button
			 style="margin: 0 20px" type="primary"
			 @click="cqq1vf6('addFormData')">提交</Button>
	  </div>
	</Modal>
</div>
</template>

<script>
import {
evaluationAnalysisService} from '@/api'
export default {
	data () {
		return {
			ed1ju3y:{
				xt3mdzy:10,
				r0iu7c4:1,
			},
			ovcfjwj:{
				list: []
			},
			xcfrmf4:{
					'recordTime':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'lecturerPraise':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'studentSatisfaction':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'assessmentPassingDegree':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'trainingDuration':[
					{
						required: true,
						message: '不能为空'
					}
					],
					'resultFeedback':[
					{
						required: true,
						message: '不能为空'
					}
					],
			},
			y4r2qg5Data:{},
		  mdhyntr: {
		  },
			llz5jbc:false,
			hkmk6c3:[],
			beny00i:false,
			yk8xgly: {
			},
			qrnmsug:'',
			ggfdf50:{
				'recordTime':'',
				'lecturerPraise':'',
				'studentSatisfaction':'',
				'assessmentPassingDegree':'',
				'trainingDuration':'',
				'resultFeedback':'',
			},
		  lpdwsm2: {
		  },
		}
	},
	mounted () {
		this.qrnmsug = sessionStorage.getItem('sMenuName') || sessionStorage.getItem('fMenuName')
		this.oqds7i3()
		this.vfxmp46();
	},
	methods: {
		vfxmp46() {
		},

			hrhbwo0(name){
			this.$refs[name].validate((valid) => {
				if (valid) {
				evaluationAnalysisService.update(this.ggfdf50).then(res => {
					if(res.success){
					this.$Message.success('修改成功')
					this.v1gb62w()
					this.oqds7i3()
					}else{
					this.$Message.error('修改失败')
					}
				})
				} else {
					this.$Message.error('请填写完整');
				}
			})
			},
			cqq1vf6(name){
			this.$refs[name].validate((valid) => {
				if (valid) {
				evaluationAnalysisService.addEvaluationAnalysis(this.ggfdf50).then(res => {
					if(res.success){
					this.$Message.success('新增成功')
					this.xlxsadx()
					this.oqds7i3()
					}else{
					this.$Message.error('新增失败')
					}
				})
				} else {
					this.$Message.error('请填写完整');
				}
			})
			},
			ygxjp3p(id){
				let ids = []
				if(id){
					ids.push(id)
				}else if(this.hkmk6c3.length > 0){
					ids = this.hkmk6c3.map(item => item.id)
				}
				evaluationAnalysisService.removeEvaluationAnalysis(ids).then(res => {
				if(res.success){
						this.hkmk6c3 = []
						this.$Message.success('删除成功')
						this.oqds7i3()
					} else {
						this.$Message.error('删除失败')
					}
				})
			},
			oqds7i3() {
				evaluationAnalysisService.getEvaluationAnalysisPageList(this.y4r2qg5Data, this.ed1ju3y.r0iu7c4, this.ed1ju3y.xt3mdzy).then(res => {
				if(res.success){
					this.ovcfjwj = res.data
				}
				})
			},

		
		xqtj72b(){
			this.beny00i = true
			this.$refs.addFormData.resetFields();
		},
	
		xlxsadx(){
			this.beny00i = false
			this.ggfdf50 = {
			'recordTime':'',
			'lecturerPraise':'',
			'studentSatisfaction':'',
			'assessmentPassingDegree':'',
			'trainingDuration':'',
			'resultFeedback':'',
			}
		},
		

		bcds6bl(itemData){

			if(itemData){
			this.ggfdf50 = {...itemData}
			this.llz5jbc = true
			}else if(this.hkmk6c3.length > 0){
			this.ggfdf50 = {...this.hkmk6c3[0]}
			this.llz5jbc = true
			}else{
			this.$Message.error('请选择需要修改的数据项')
			}
			this.$refs.editFormData.resetFields();
		},
		
		v1gb62w(){
			this.llz5jbc = false
			this.ggfdf50 = {

			'recordTime':'',
			'lecturerPraise':'',
			'studentSatisfaction':'',
			'assessmentPassingDegree':'',
			'trainingDuration':'',
			'resultFeedback':'',
			}
		},
		
		y4r2qg5(){
			this.ed1ju3y.r0iu7c4 = 1
			this.oqds7i3()
		},
		
		br5zggl(e){
		let checked = e.target.checked
		let checkDom = this.$refs.table.getElementsByClassName('w00s0txtk')
		if(checked){
			this.hkmk6c3 = []
			for(let i=0; i<checkDom.length; i++){
			checkDom[i].checked = true
			this.hkmk6c3.push(checkDom[i]._value)
			}
		}else{
			for(let i=0; i<checkDom.length; i++){
			checkDom[i].checked = false
			}
			this.hkmk6c3 = []
		}
		console.log(this.hkmk6c3)
		},
	
		nkveno8(e){
		let checked = e.target.checked
		let val = e.target._value
		if(checked){
			this.hkmk6c3.push(val)
		}else{
			let clearIndex = this.hkmk6c3.indexOf(val)
			this.hkmk6c3.splice(clearIndex,1)
		}
		console.log(this.hkmk6c3)
		},

		p1cjadq(e){
		let val = e.target._value
		this.hkmk6c3 = []
		this.hkmk6c3.push(val)
		console.log(this.hkmk6c3)
		},

		gk5zqus(){
			this.ed1ju3y.r0iu7c4 = 1
			this.oqds7i3()
		},

		zz2qtng(){
			this.ed1ju3y.r0iu7c4 = this.ovcfjwj.navigateLastPage
			this.oqds7i3()
		},

		nc22676(){
			this.ed1ju3y.r0iu7c4 = this.ed1ju3y.r0iu7c4 - 1
			this.oqds7i3()
		},

		a1eocag(){
			this.ed1ju3y.r0iu7c4 = this.ed1ju3y.r0iu7c4 + 1
			this.oqds7i3()
		},
	}
}
</script>

<style
	 scoped>
@import "./index.css"
</style>
<template>
<div
	 class="ag44ampkb">
	  <div class="l89sctqa1">{{qrnmsug}}</div>
	  <div
	  	 class="z62ldpkud">
		  <Form
		  	 label-position="left" style="padding-bottom: 50px;"
		  	 :model="ggfdf50" :label-width="100" ref="FormData"
		  	 :rules="xcfrmf4">
			<Row :gutter="32">
							<Col
								 span="12">
				<FormItem
					 label="教师姓名"
					  prop="teacherName" >
				  <Input v-model="ggfdf50['teacherName']"
				  	 placeholder="请输入教师姓名..."
				  	 class="dkjj6net8"></Input>
				</FormItem>
			  </Col>
			  <Col span="12">
				<FormItem  prop="teacherCode" label="教师编码" >
				  <Input
				  	 class="dkjj6net8" placeholder="请输入教师编码..."
				  	 v-model="ggfdf50['teacherCode']"></Input>
				</FormItem>
			  </Col>
			  <Col
			  	 span="12">
				<FormItem  prop="teacherCategory" label="教师类别" >
				  <Input v-model="ggfdf50['teacherCategory']"
				  	 class="dkjj6net8" placeholder="请输入教师类别..."></Input>
				</FormItem>
			  </Col>
			  <Col span="12">
				<FormItem
					 label="教师职务"
					  prop="teacherPosition" >
				  <Input class="dkjj6net8" placeholder="请输入教师职务..."
				  	 v-model="ggfdf50['teacherPosition']"></Input>
				</FormItem>
			  </Col>
			  <Col
			  	 span="12">
				<FormItem label="入职时间"  prop="entryTime" >
				  <Input class="dkjj6net8"
				  	 placeholder="请输入入职时间..." v-model="ggfdf50['entryTime']"></Input>
				</FormItem>
			  </Col>
			  <Col span="12">
				<FormItem label="教师等级"  prop="teacherGrade" >
				  <Input
				  	 class="dkjj6net8"
				  	 placeholder="请输入教师等级..." v-model="ggfdf50['teacherGrade']"></Input>
				</FormItem>
			  </Col>
			</Row>
		  </Form>
		  <div
		  	 class="ixr5eom8h">
			<Button @click="xzsyjjp"
				 style="margin: 0 20px">重置</Button>
			<Button
				 @click="wk69yme('FormData')" style="margin: 0 20px; background-color: #2979C9; color:#fff;">确认提交</Button>
		  </div>
	  </div>
</div>
</template>

<script>
import {
teacherManageService} from '@/api'
export default {
	data () {
	  return {
		qrnmsug:'',
		ggfdf50:{
		  'teacherName':'',
		  'teacherCode':'',
		  'teacherCategory':'',
		  'teacherPosition':'',
		  'entryTime':'',
		  'teacherGrade':'',
		},
		yk8xgly: {
		},
		xcfrmf4:{
			  'teacherName':[
				{
				  required: true,
				  message: '不能为空'
				}
			  ],
			  'teacherCode':[
				{
				  required: true,
				  message: '不能为空'
				}
			  ],
			  'teacherCategory':[
				{
				  required: true,
				  message: '不能为空'
				}
			  ],
			  'teacherPosition':[
				{
				  required: true,
				  message: '不能为空'
				}
			  ],
			  'entryTime':[
				{
				  required: true,
				  message: '不能为空'
				}
			  ],
			  'teacherGrade':[
				{
				  required: true,
				  message: '不能为空'
				}
			  ],
		},
		mdhyntr: {
		},
	  }
	},
mounted () {
this.qrnmsug = sessionStorage.getItem('sMenuName') || sessionStorage.getItem('fMenuName');
this.vfxmp46();
},
methods:{
	vfxmp46() {
		},

	xzsyjjp(){
	  this.ggfdf50 = {
		'teacherName':'',
		'teacherCode':'',
		'teacherCategory':'',
		'teacherPosition':'',
		'entryTime':'',
		'teacherGrade':'',
	  }
	  this.$refs.FormData.resetFields();
	},
		wk69yme(name){
		  this.$refs[name].validate((valid) => {
			if (valid) {
			  teacherManageService.addTeacherManage(this.ggfdf50).then(res => {
				if(res.success){
				  this.$Message.success('提交成功')
				}else{
				  this.$Message.error('提交失败')
				}
			  })
			} else {
			  this.$Message.error('请填写完整');
			}
		  })
		}
}
}
</script>

<style
	 scoped>
	@import './index.css';
</style>
<template>
<div class="vtz4kiat8">
		<div class="rouxfrna6">
		<div class="cptn33qmq  rhf0l4h5z">
		  <div
		  	 class="pwdffcyj4">
			  <div class="i03dbesso">
				<Button class="k7gjof1gm"
					 :disabled="hkmk6c3.length == 0"
					 :style="{backgroundColor: (hkmk6c3.length == 0 ? 'unset' : '#4F2DCC'),color: (hkmk6c3.length == 0 ? '#666' : '#fff')}"
					 @click="ygxjp3p()">删除</Button>
				<Button class="p7pqr0ui1" @click="bcds6bl()" :style="{backgroundColor: (hkmk6c3.length == 1 ? '#A49206' : 'unset'),color: (hkmk6c3.length == 1 ? '#fff' : '#666')}" :disabled="hkmk6c3.length > 1 || hkmk6c3.length == 0">修改</Button>
				<Button  style="background-color: #2979C9" @click="xqtj72b"
					 class="y8l92yof0">新增</Button>
			  </div>
		  </div>
		  <div
		  	 class="vs3oto2ut">
		</div>
		</div>
		  <div
		  	 class="aqglcyiha  ">
			<table >
			  <thead>
				<tr>
				  <th>#</th>
				  <th>远程名称</th>
				  <th>远程编号</th>
				  <th>远程设备</th>
				  <th>远程教室</th>
				  <th>远程状态</th>
				  <th>负责人</th>
				</tr>
			  </thead>
			  <tbody
			  	 ref="table">
				<tr
					 v-for="(data,index) in ovcfjwj.list" :key="index">
				  <td><input
				  	 type="radio"
				  	 @click="p1cjadq($event)" :value="data"
				  	 name="radio"></td>
					  <td>{{data['remoteName']}}</td>
					  <td>{{data['remoteNumber']}}</td>
					  <td>{{data['remoteDevice']}}</td>
					  <td>{{data['remoteClassroom']}}</td>
					  <td>{{data['remoteStatus']}}</td>
					  <td>{{data['warehousingStatus']}}</td>
				</tr>
			  </tbody>
			</table>
		  </div>
		  <div
		  	 class="iucup48r0 " >
			<div class="x50ur25sx">
			  <div
			  	 class="glp81ckk6" v-if="ovcfjwj.total">总共{{ovcfjwj.total}}条</div>
			  <div @click="uo2d0mw" v-if="ovcfjwj.hasPreviousPage"
			  	 class="i5jwiaw7n">
			  	<Icon
			  	 type="ios-arrow-back"
			  	 size="18"/></div>
			  <div class="k78fhz1dk">
				<span v-for="(numb,index) in ovcfjwj.pages"
					 :class="{'zurebpv4h':ovcfjwj.pageNum == numb}" :key="index"
					 class="zopeir1ib" @click="hei8gem(numb)">{{numb}}</span>
			  </div>
			  <div
			  	 @click="f20hn5j"
			  	 v-if="ovcfjwj.hasNextPage"
			  	 class="trxoxyhtn">
			  	<Icon
			  	  size="18" type="ios-arrow-forward"/></div>
			</div>
		  </div>
		</div>
		<Modal
			 :footer-hide="true" :transfer="false" :fullscreen="false" :width="40"
			 title="修改" v-model="llz5jbc">
		  <Form
		  	 :model="ggfdf50"
		  	 label-position="left" :rules="xcfrmf4"
		  	 ref="editFormData" :label-width="100"
		  	 style="padding-bottom: 50px;">
			<Row
				 :gutter="32">
				<Col span="12">
				  <FormItem  prop="remoteName"
				  	 label="远程名称">
					<Input
						 placeholder="请输入远程名称..."
						 v-model="ggfdf50['remoteName']"></Input>
				  </FormItem>
				</Col>
				<Col
					 span="12">
				  <FormItem label="远程编号"  prop="remoteNumber">
					<Input placeholder="请输入远程编号..."
						 v-model="ggfdf50['remoteNumber']"></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem label="远程设备"
				  	  prop="remoteDevice">
					<Input v-model="ggfdf50['remoteDevice']" placeholder="请输入远程设备..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	  prop="remoteClassroom" label="远程教室">
					<Input
						 placeholder="请输入远程教室..."
						 v-model="ggfdf50['remoteClassroom']"></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	 label="远程状态"
				  	  prop="remoteStatus">
					<Input
						 placeholder="请输入远程状态..."
						 v-model="ggfdf50['remoteStatus']"></Input>
				  </FormItem>
				</Col>
				<Col
					 span="12">
				  <FormItem label="负责人"  prop="warehousingStatus">
					<Input v-model="ggfdf50['warehousingStatus']"
						 placeholder="请输入负责人..."></Input>
				  </FormItem>
				</Col>
			</Row>
		  </Form>
		  <div
		  	 class="ks24zpzay">
			<Button
				 @click="v1gb62w"
				 style="margin: 0 20px">关闭</Button>
			<Button
				 type="primary" style="margin: 0 20px"
				 @click="hrhbwo0('editFormData')">提交</Button>
		  </div>
		</Modal>
		<Modal v-model="beny00i"
			 :footer-hide="true"
			 :transfer="false"
			 title="新增" :width="40"
			 :fullscreen="false">
		  <Form
		  	 :rules="xcfrmf4"
		  	 ref="addFormData" :model="ggfdf50"
		  	 label-position="left"
		  	 :label-width="100" style="padding-bottom: 50px;">
			<Row
				 :gutter="32">
				<Col
					 span="12">
				  <FormItem label="远程名称"
				  	  prop="remoteName">
					<Input
						 v-model="ggfdf50['remoteName']" placeholder="请输入远程名称..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	 label="远程编号"  prop="remoteNumber">
					<Input
						 placeholder="请输入远程编号..." v-model="ggfdf50['remoteNumber']"></Input>
				  </FormItem>
				</Col>
				<Col
					 span="12">
				  <FormItem
				  	  prop="remoteDevice"
				  	 label="远程设备">
					<Input
						 placeholder="请输入远程设备..." v-model="ggfdf50['remoteDevice']"></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem label="远程教室"
				  	  prop="remoteClassroom">
					<Input
						 v-model="ggfdf50['remoteClassroom']"
						 placeholder="请输入远程教室..."></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem  prop="remoteStatus"
				  	 label="远程状态">
					<Input placeholder="请输入远程状态..."
						 v-model="ggfdf50['remoteStatus']"></Input>
				  </FormItem>
				</Col>
				<Col span="12">
				  <FormItem
				  	  prop="warehousingStatus"
				  	 label="负责人">
					<Input
						 v-model="ggfdf50['warehousingStatus']"
						 placeholder="请输入负责人..."></Input>
				  </FormItem>
				</Col>
			</Row>
		  </Form>
		  <div
		  	 class="ks24zpzay">
			<Button
				 style="margin: 0 20px" @click="xlxsadx">关闭</Button>
			<Button
				 @click="cqq1vf6('addFormData')" type="primary" style="margin: 0 20px">提交</Button>
		  </div>
		</Modal>
</div>
</template>

<script>
import {
remoteManagementService} from '@/api'
export default {
data(){
	return{
	  yk8xgly: {
	  },
	  ed1ju3y:{
	  },
	  beny00i:false,
	  ggfdf50:{
		'remoteName':'',
		'remoteNumber':'',
		'remoteDevice':'',
		'remoteClassroom':'',
		'remoteStatus':'',
		'warehousingStatus':'',
	  },
	  ovcfjwj:{
		list:[]
	  },
	  hkmk6c3:[],
	  xcfrmf4:{
			'remoteName':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'remoteNumber':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'remoteDevice':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'remoteClassroom':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'remoteStatus':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
			'warehousingStatus':[
			  {
				required: true,
				message: '不能为空'
			  }
			],
	  },
	  llz5jbc:false,
	  y4r2qg5Data:{},
		  mdhyntr: {
		  },
		  lpdwsm2: {
		  },
	}
},
mounted () {
	this.oqds7i3();
	this.vfxmp46();
},
methods:{
	vfxmp46() {
		},

		ygxjp3p(id){
			let ids = []
			if(id){
				ids.push(id)
			}else if(this.hkmk6c3.length > 0){
				ids = this.hkmk6c3.map(item => item.id)
			}else{
				this.$Message.error('请选择删除数据')
			}
			remoteManagementService.removeRemoteManagement(ids).then(res => {
			if(res.success){
					this.hkmk6c3 = []
					this.$Message.success('删除成功')
					this.oqds7i3()
				} else {
					this.$Message.error('删除失败')
				}
			})
		},
		hrhbwo0(name){
		  this.$refs[name].validate((valid) => {
			if (valid) {
			  remoteManagementService.update(this.ggfdf50).then(res => {
				if(res.success){
				  this.$Message.success('修改成功')
				  this.v1gb62w()
				  this.oqds7i3()
				}else{
				  this.$Message.error('修改失败')
				}
			  })
			} else {
				this.$Message.error('请填写完整');
			}
		  })
		},
		cqq1vf6(name){
		  this.$refs[name].validate((valid) => {
			if (valid) {
			  remoteManagementService.addRemoteManagement(this.ggfdf50).then(res => {
				if(res.success){
				  this.$Message.success('新增成功')
				  this.xlxsadx()
				  this.oqds7i3()
				}else{
				  this.$Message.error('新增失败')
				}
			  })
			} else {
				this.$Message.error('请填写完整');
			}
		  })
		},
		  oqds7i3() {
			remoteManagementService.getRemoteManagementPageList(this.y4r2qg5Data, this.ed1ju3y.j_pageNum, this.ed1ju3y.j_pageSize).then(res => {
			  if(res.success){
				this.ovcfjwj = res.data
			  }
			})
		  },

	  xqtj72b(){
		this.beny00i = true
		this.$refs.addFormData.resetFields();
	  },
	
	  xlxsadx(){
		this.beny00i = false
		this.ggfdf50 = {
		  'remoteName':'',
		  'remoteNumber':'',
		  'remoteDevice':'',
		  'remoteClassroom':'',
		  'remoteStatus':'',
		  'warehousingStatus':'',
		}
	  },
	
	  bcds6bl(itemData){
		if(itemData){
		  this.ggfdf50 = {...itemData}
		  this.llz5jbc = true
		}else if(this.hkmk6c3.length > 0){
		  this.ggfdf50 = {...this.hkmk6c3[0]}
		  this.llz5jbc = true
		}else{
		  this.$Message.error('请选择需要修改的数据项')
		}
		this.$refs.editFormData.resetFields();
	  },
	
	  v1gb62w(){
		this.llz5jbc = false
		this.ggfdf50 = {
		  'remoteName':'',
		  'remoteNumber':'',
		  'remoteDevice':'',
		  'remoteClassroom':'',
		  'remoteStatus':'',
		  'warehousingStatus':'',
		}
	  },
	
	  y4r2qg5(){
		this.ed1ju3y.j_pageNum = 1
		this.oqds7i3()
	  },
	
	  uo2d0mw(){
		if(this.ovcfjwj.hasPreviousPage){
		  this.ed1ju3y.j_pageNum = this.ovcfjwj.prePage
		  this.oqds7i3()
		}
		
	  },
	
	  f20hn5j(){
		if(this.ovcfjwj.hasNextPage){
		this.ed1ju3y.j_pageNum = this.ovcfjwj.nextPage
		this.oqds7i3()
		}
	  },

	br5zggl(e){
	  let checked = e.target.checked
	  let checkDom = this.$refs.table.getElementsByClassName('selBtn')
	  if(checked){
		this.hkmk6c3 = []
		for(let i=0; i<checkDom.length; i++){
		  checkDom[i].checked = true
		  this.hkmk6c3.push(checkDom[i]._value)
		}
	  }else{
		for(let i=0; i<checkDom.length; i++){
		  checkDom[i].checked = false
		}
		this.hkmk6c3 = []
	  }
	},

	nkveno8(e){
	  let checked = e.target.checked
	  let val = e.target._value
	  if(checked){
		this.hkmk6c3.push(val)
	  }else{
		let clearIndex = this.hkmk6c3.indexOf(val)
		this.hkmk6c3.splice(clearIndex,1)
	  }
	},

	p1cjadq(e){
	  let val = e.target._value
	  this.hkmk6c3 = []
	  this.hkmk6c3.push(val)
	},

	hei8gem(pageNumb){
	  this.ed1ju3y.j_pageNum = pageNumb
	  this.oqds7i3()
	}
}
}
</script>

<style scoped>
	@import "./index.css";
</style>
package com.thomas.garcia.testpapermanagement.dto;

import lombok.Data;
import javax.persistence.Column;
/**
* 描述
*/
@Data
public class TestPaperManagementSaveREQ {

private Long id;

	/**
	* 试卷编码
	*
	*/
	@Column(name = "testPaperCode")
	private String testPaperCode;

	/**
	* 所属课程
	*
	*/
	@Column(name = "belongHours")
	private String belongHours;

	/**
	* 授课老师
	*
	*/
	@Column(name = "lecturer")
	private String lecturer;

	/**
	* 合格标准
	*
	*/
	@Column(name = "qualificationCriteria")
	private String qualificationCriteria;

	/**
	* 创建时间
	*
	*/
	@Column(name = "telphone")
	private String telphone;

	/**
	* 有效截止日期
	*
	*/
	@Column(name = "validUntil")
	private String validUntil;

}
package com.thomas.garcia.testpapermanagement.dto;

import lombok.Data;

import java.io.Serializable;

/**
* 描述
*/
@Data
public class TestPaperManagementDTO implements Serializable {
private Long id;


	/**
	* 试卷编码
	*
	*/
	private String testPaperCode;

	/**
	* 所属课程
	*
	*/
	private String belongHours;

	/**
	* 授课老师
	*
	*/
	private String lecturer;

	/**
	* 合格标准
	*
	*/
	private String qualificationCriteria;

	/**
	* 创建时间
	*
	*/
	private String telphone;

	/**
	* 有效截止日期
	*
	*/
	private String validUntil;

}
package com.thomas.garcia.testpapermanagement.dto;

import lombok.Data;

import java.io.Serializable;

/**
* 描述
*/
@Data
public class RemoteManagementDTO implements Serializable {
private Long id;


	/**
	* 远程名称
	*
	*/
	private String remoteName;

	/**
	* 远程编号
	*
	*/
	private String remoteNumber;

	/**
	* 远程设备
	*
	*/
	private String remoteDevice;

	/**
	* 远程教室
	*
	*/
	private String remoteClassroom;

	/**
	* 远程状态
	*
	*/
	private String remoteStatus;

	/**
	* 负责人
	*
	*/
	private String warehousingStatus;

}
package com.thomas.garcia.testpapermanagement.dto;

import lombok.Data;
import javax.persistence.Column;
/**
* 描述
*/
@Data
public class RemoteManagementSaveREQ {

private Long id;

	/**
	* 远程名称
	*
	*/
	@Column(name = "remoteName")
	private String remoteName;

	/**
	* 远程编号
	*
	*/
	@Column(name = "remoteNumber")
	private String remoteNumber;

	/**
	* 远程设备
	*
	*/
	@Column(name = "remoteDevice")
	private String remoteDevice;

	/**
	* 远程教室
	*
	*/
	@Column(name = "remoteClassroom")
	private String remoteClassroom;

	/**
	* 远程状态
	*
	*/
	@Column(name = "remoteStatus")
	private String remoteStatus;

	/**
	* 负责人
	*
	*/
	@Column(name = "warehousingStatus")
	private String warehousingStatus;

}
package com.thomas.garcia.testpapermanagement.service;

import com.github.pagehelper.PageInfo;
import com.thomas.garcia.testpapermanagement.dto.TestPaperManagementDTO;
import com.thomas.garcia.testpapermanagement.dto.TestPaperManagementSaveREQ;


import java.util.List;

/**
* 描述
*
*/
public interface TestPaperManagementService {

		/**
		* 保存试卷管理
		*
		* @param req 入参
		*/
		void update(TestPaperManagementSaveREQ req);
		/**
		* 根据id集删除
		*
		* @param ids id集
		*/
		void removeTestPaperManagement(List<Long> ids);
		/**
		* 保存试卷管理
		*
		* @param req 入参
		*/
		void addTestPaperManagement(TestPaperManagementSaveREQ req);
		PageInfo<List<TestPaperManagementDTO>> getTestPaperManagementPageList(Integer pageNum, Integer pageSize);

	}
package com.thomas.garcia.testpapermanagement.service.impl;

import cn.hutool.core.collection.CollUtil;
import cn.hutool.core.date.DateUtil;
import cn.hutool.core.util.StrUtil;
import com.github.pagehelper.Page;
import com.github.pagehelper.PageHelper;
import com.github.pagehelper.PageInfo;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.BeanUtils;
import org.springframework.stereotype.Service;
import com.thomas.garcia.testpapermanagement.dto.TestPaperManagementDTO;
import com.thomas.garcia.testpapermanagement.dto.TestPaperManagementSaveREQ;
import com.thomas.garcia.testpapermanagement.entity.TestPaperManagement;
import com.thomas.garcia.testpapermanagement.mapper.TestPaperManagementMapper;

import com.thomas.garcia.testpapermanagement.service.TestPaperManagementService;
import tk.mybatis.mapper.entity.Example;
import tk.mybatis.mapper.weekend.WeekendSqls;

import javax.annotation.Resource;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;


/**
* 描述
*
*/
@Service
@Slf4j
public class TestPaperManagementServiceImpl implements TestPaperManagementService {

@Resource
private TestPaperManagementMapper testPaperManagementMapper;
		@Override
		public void update(TestPaperManagementSaveREQ req) {
			log.info("试卷管理管理-保存信息，入参：{}",req);
			if (req.getId()!=null){
			TestPaperManagement testPaperManagement = testPaperManagementMapper.selectByPrimaryKey(req.getId());
			transforTestPaperManagement(testPaperManagement,req);
			testPaperManagementMapper.updateByPrimaryKey(testPaperManagement);
			}
		}

		@Override
		public void removeTestPaperManagement(List<Long> ids) {
			testPaperManagementMapper.deleteByExample(Example.builder(TestPaperManagement.class).andWhere(WeekendSqls.<TestPaperManagement>custom()
				.andIn(TestPaperManagement::getId, ids)).build());
				}

		@Override
		public void addTestPaperManagement(TestPaperManagementSaveREQ req) {
			log.info("试卷管理管理-保存信息，入参：{}",req);
			if (req.getId()!=null){
			TestPaperManagement testPaperManagement = testPaperManagementMapper.selectByPrimaryKey(req.getId());
			transforTestPaperManagement(testPaperManagement,req);
			testPaperManagementMapper.updateByPrimaryKey(testPaperManagement);
			}else {
			TestPaperManagement testPaperManagement = new TestPaperManagement();
			transforTestPaperManagement(testPaperManagement,req);
			testPaperManagementMapper.insert(testPaperManagement);
			}
		}
		private  void transforTestPaperManagement(TestPaperManagement testPaperManagement,TestPaperManagementSaveREQ req){
			BeanUtils.copyProperties(req,testPaperManagement);
		}

		@Override
		public PageInfo<List<TestPaperManagementDTO>> getTestPaperManagementPageList(Integer pageNum, Integer pageSize) {
			log.info("试卷管理管理-分页查询入参：{}",pageNum, pageSize);
			WeekendSqls<TestPaperManagement> sql= WeekendSqls.custom();
				Page page = PageHelper.startPage(pageNum, pageSize);
				List<TestPaperManagement> list = testPaperManagementMapper.selectByExample(Example.builder(TestPaperManagement.class).andWhere(sql).build());
					if (CollUtil.isEmpty(list)) {
					return new PageInfo<>();
					}
					List<TestPaperManagementDTO> dtoList = new ArrayList<>();
						list.forEach(testPaperManagementValue -> {
						TestPaperManagementDTO dto = new TestPaperManagementDTO();
						BeanUtils.copyProperties(testPaperManagementValue,dto);
						dtoList.add(dto);
						});
						PageInfo pageInfo = new PageInfo(page);
						pageInfo.setList(dtoList);
						return pageInfo;
		}




}
